<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text" onkeyup="betterFunction()"/>
</body>
<script>
    let count=0
const getData=()=>{
    //calls an api and gets data
    const typedValue=document.querySelector('input').value
    console.log(`Fetching data..., ${count}, typed value: ${typedValue}`)
    count++;
    //here if i type something in input i wil get the clg for every character typed to solve this debouncing is used
}

// const debounce=function(fn,d){
//     let timer;
//      function test(){
//         let context=this,args=arguments;
//         clearTimeout(timer);
//         timer=setTimeout(()=>{
//             fn.apply(context,arguments)
//         },d)
//     }
//     return test
// }

const debounce = (fn, delay) => {
    let timer;
    return (...args) => {
        clearTimeout(timer);
        timer = setTimeout(() => fn(...args), delay);
    };
};
const betterFunction= debounce(getData,300)


</script>
</html>
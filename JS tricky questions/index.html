<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Code Examples</title>
</head>
<body>
    <h1>JavaScript Code Examples</h1>

    <script>
        // 1. Floating-point Comparison
        console.log(0.1 * 3 == 0.3);  // false due to precision issues

        // 2. setTimeout with loop issue
        for (var i = 0; i < 10; i++) {
            setTimeout(() => {
                console.log(i);  // Will log 10 after the loop ends
            }, 1000);
        }

        // 3. Variable hoisting and scope in functions
        function outer() {
            var b = 2;
            function inner() {
                b++;
                console.log(b);  // NaN due to hoisting of `b`
                var b = 3;
            }
            inner();
        }
        outer();  // Output: NaN

        // 4. Error handling and variable scope
        (function () {
            try {
                throw new Error();
            } catch (x) {
                var x = 1, y = 2;
                console.log(x);  // 1 (variable x is hoisted inside catch)
            }
            console.log(x);  // 1 (x was overwritten inside catch)
            console.log(y);  // 2 (y is scoped to the catch block)
        })();
        
        // 5. Type coercion example
        console.log(true + 1);  // 2 (true is coerced to 1)

        // 6. Promise chaining
        Promise.resolve(3)
            .then((res) => {
                console.log(res);  // 3
            })
            .catch()
            .then()
            .then((res) => res)
            .then()
            .catch()
            .then((res) => {
                console.log(res);  // undefined (no value passed)
            });

        // 7. Comparison of Arrays (Reference Equality)
       // console.log([2] === [2]);  // false (arrays are compared by reference, not value)

        // 8. Function declaration and invocation
        test();  // Works because function declarations are hoisted
        function test() {
            return true;
        }
    </script>
</body>
</html>
